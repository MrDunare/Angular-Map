<div class="row text-center">
  <div class="col">
    <label for="">Search User</label><br />
    <input type="text" [(ngModel)]="clientUsername" />&nbsp;
    <button class="btn btn-primary" (click)="getUsername()">Get Data</button>
  </div>
</div>

<div class="row mt-3">
  <div class="col">
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef>ID</th>
        <td mat-cell *matCellDef="let element">{{ element.id }}</td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef>Name</th>
        <td mat-cell *matCellDef="let element">{{ element.name }}</td>
      </ng-container>

      <!-- surname Column -->
      <ng-container matColumnDef="surname">
        <th mat-header-cell *matHeaderCellDef>Surname</th>
        <td mat-cell *matCellDef="let element">{{ element.surname }}</td>
      </ng-container>

      <!-- dateOfBirth Column -->
      <ng-container matColumnDef="dateOfBirth">
        <th mat-header-cell *matHeaderCellDef>Date of birth</th>
        <td mat-cell *matCellDef="let element">{{ element.dateOfBirth }}</td>
      </ng-container>

      <!-- email Column -->
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef>email</th>
        <td mat-cell *matCellDef="let element">{{ element.email }}</td>
      </ng-container>

      <!-- fiscalCode Column -->
      <ng-container matColumnDef="fiscalCode">
        <th mat-header-cell *matHeaderCellDef>Fiscal code</th>
        <td mat-cell *matCellDef="let element">{{ element.fiscalCode }}</td>
      </ng-container>

      <!-- username Column -->
      <ng-container matColumnDef="username">
        <th mat-header-cell *matHeaderCellDef>Username</th>
        <td mat-cell *matCellDef="let element">{{ element.username }}</td>
      </ng-container>

      <!-- networth Column -->
      <ng-container matColumnDef="netWorth">
        <th mat-header-cell *matHeaderCellDef>networth</th>
        <td mat-cell *matCellDef="let element">{{ element.netWorth }}</td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef>Actions</th>
        <td mat-cell *matCellDef="let element">
          <button (click)="deleteClient(element.id)">delete</button>
          <button (click)="openForm(element.id)">update</button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
</div>

<div class="row text-center mt-5">
  <div class="col">
   
    <form class="update-form mt-3 mb-3" [formGroup]="updateForm" *ngIf="isFormToggle">
        <h4 class="text-center text-black mt-2">Change parameters of element ID: {{updatedId}}</h4>
        <div class="row">
          <div class="col">
            <mat-form-field>
              <mat-label>Name</mat-label>
              <input matInput type="text" name="name" formControlName="name" />
            </mat-form-field>
            <mat-form-field class="m-1">
              <mat-label>Surname</mat-label>
              <input
                matInput
                type="text"
                name="surname"
                formControlName="surname"
              />
            </mat-form-field>

            <mat-form-field>
              <mat-label>Fiscal Code</mat-label>
              <input
                matInput
                type="text"
                name="fiscalCode"
                formControlName="fiscalCode"
              />
            </mat-form-field>
            <mat-form-field>
              <mat-label>Date of Birth</mat-label>
              <input
                matInput
                type="text"
                name="dateOfBirth"
                formControlName="dateOfBirth"
              />
            </mat-form-field>

            <mat-form-field class="m-1">
              <mat-label>Email</mat-label>
              <input
                matInput
                type="email"
                name="email"
                formControlName="email"
              />
            </mat-form-field>
            <mat-form-field >
              <mat-label>Username</mat-label>
              <input
                matInput
                type="text"
                name="username"
                formControlName="username"
              />
            </mat-form-field>
            <mat-form-field>
              <mat-label>netWorth</mat-label>
              <input
                matInput
                type="email"
                name="netWorth"
                formControlName="netWorth"
              />
            </mat-form-field>
          </div>
        </div>
        <br />
        <div class="row mb-1">
          <div class="col">
            <button (click)="updatedFormResult()" mat-raides-button type="submit" class="btn btn-danger">
              Invia
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>

